### Login
# @name login
POST {{host}}/auth/login
content-type: application/json

{
  "email": "john@example.com",
  "password": "password123"
}
###

@myAccessToken = {{login.response.body.accessToken}}

### Create Promotion Applicable Category Association
# @name createPromotionApplicableCategory
POST {{host}}/promotion-applicable-categories
Content-Type: application/json
authorization: Bearer {{myAccessToken}}

{
  "promotionId": "0a1571d6-93f4-4afb-a190-8404bbc153d4",
  "categoryId": "85225ca0-be3e-4037-93df-3130094ebeb7",
  "includeChildren": true,
  "status": "active"
}

###

@promotionApplicableCategoryId = {{createPromotionApplicableCategory.response.body.uuid}}

### Get All Promotion Applicable Categories
GET {{host}}/promotion-applicable-categories
authorization: Bearer {{myAccessToken}}

### Get All Promotion Applicable Categories with Filters
GET {{host}}/promotion-applicable-categories?promotionId=0a1571d6-93f4-4afb-a190-8404bbc153d4&status=active&page=1&limit=10
authorization: Bearer {{myAccessToken}}

### Get All Promotion Applicable Categories by Category
GET {{host}}/promotion-applicable-categories?categoryId=85225ca0-be3e-4037-93df-3130094ebeb7&status=active
authorization: Bearer {{myAccessToken}}

### Get All Promotion Applicable Categories with Include Children Filter
GET {{host}}/promotion-applicable-categories?includeChildren=true&status=active
authorization: Bearer {{myAccessToken}}

### Get All Promotion Applicable Categories Sorted by Created Date
GET {{host}}/promotion-applicable-categories?sort=createdAt&order=DESC
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Category By Id
GET {{host}}/promotion-applicable-categories/c5c0e104-1dde-45f5-a971-7037fdca0610
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Categories By Promotion Id
GET {{host}}/promotion-applicable-categories/promotion/0a1571d6-93f4-4afb-a190-8404bbc153d4
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Categories By Category Id
GET {{host}}/promotion-applicable-categories/category/85225ca0-be3e-4037-93df-3130094ebeb7
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Category By Association
GET {{host}}/promotion-applicable-categories/association/0a1571d6-93f4-4afb-a190-8404bbc153d4/85225ca0-be3e-4037-93df-3130094ebeb7
authorization: Bearer {{myAccessToken}}

### Update Promotion Applicable Category Status
PUT {{host}}/promotion-applicable-categories/c5c0e104-1dde-45f5-a971-7037fdca0610
Content-Type: application/json
authorization: Bearer {{myAccessToken}}

{
  "status": "inactive"
}

### Update Promotion Applicable Category Include Children
PUT {{host}}/promotion-applicable-categories/c5c0e104-1dde-45f5-a971-7037fdca0610
Content-Type: application/json
authorization: Bearer {{myAccessToken}}

{
  "includeChildren": false
}

### Update Promotion Applicable Category Association
PUT {{host}}/promotion-applicable-categories/{{promotionApplicableCategoryId}}
Content-Type: application/json
authorization: Bearer {{myAccessToken}}

{
  "promotionId": "0a1571d6-93f4-4afb-a190-8404bbc153d4",
  "categoryId": "85225ca0-be3e-4037-93df-3130094ebeb7",
  "includeChildren": true,
  "status": "active"
}

### Create Another Promotion Applicable Category Association
POST {{host}}/promotion-applicable-categories
Content-Type: application/json
authorization: Bearer {{myAccessToken}}

{
  "promotionId": "0a1571d6-93f4-4afb-a190-8404bbc153d4",
  "categoryId": "85225ca0-be3e-4037-93df-3130094ebeb7",
  "includeChildren": false,
  "status": "active"
}

### Get Promotion Applicable Categories with Status Filter
GET {{host}}/promotion-applicable-categories?status=active&sort=createdAt&order=DESC&limit=20
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Categories by Promotion with Status
GET {{host}}/promotion-applicable-categories?promotionId=0a1571d6-93f4-4afb-a190-8404bbc153d4&status=active
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Categories by Category with Status
GET {{host}}/promotion-applicable-categories?categoryId=85225ca0-be3e-4037-93df-3130094ebeb7&status=active
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Categories with Include Children Filter
GET {{host}}/promotion-applicable-categories?includeChildren=true&status=active
authorization: Bearer {{myAccessToken}}

### Get Promotion Applicable Categories with Exclude Children Filter
GET {{host}}/promotion-applicable-categories?includeChildren=false&status=active
authorization: Bearer {{myAccessToken}}

### Delete Promotion Applicable Category
DELETE {{host}}/promotion-applicable-categories/{{promotionApplicableCategoryId}}
authorization: Bearer {{myAccessToken}}

### Create Promotion Applicable Category with Duplicate Association (Should Fail)
POST {{host}}/promotion-applicable-categories
Content-Type: application/json
authorization: Bearer {{myAccessToken}}

{
  "promotionId": "0a1571d6-93f4-4afb-a190-8404bbc153d4",
  "categoryId": "85225ca0-be3e-4037-93df-3130094ebeb7",
  "includeChildren": true,
  "status": "active"
}
